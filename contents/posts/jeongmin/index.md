---
title: "아호코라식 알고리즘 완벽 정리"
date: "2025-06-28"
description: "아호코라식 알고리즘의 동작 방식을 설명한 글입니다."
tags: []
---

아호코라식 알고리즘은 '문자열 집합에 대해 문자열의 일치 여부를 선형 시간 내에 판단하는 알고리즘'입니다. 
쉽게 말하면 금칙어 집합이 주어졌을 때 문장 속에 금칙어가 포함되어 있는지를 빠른 시간내에 판단하는 알고리즘입니다. 
아호코라식 알고리즘의 시간 복잡도는 O(m + p + n)으로, m은 문자열 집합의 문자열 길이의 합, p는 찾은 문자열의 개수, n은 주어진 문자열의 길이입니다.
길이가 n인 문자열에서 총 p개의 문자열을 찾는다는 의미입니다.

아호코라식 알고리즘은 KMP 알고리즘이 한 단계 발전된 형태의 알고리즘입니다. 
아호코라식 알고리즘에 대해 알아보기 전에 이해를 돕기 위해 KMP 알고리즘을 간단하게 짚고 넘어가보겠습니다.

# KMP 알고리즘 간단 이해
고리타분한 설명보단 예시를 통해 이해해보겠습니다.
KMP 알고리즘은 하나의 문자열에 어떤 하나의 문자열이 포함되어 있는지를 빠른 시간에 판단하는 문자열입니다.
'abaaba'라는 문자열이 포함되어 있는지 판단하고자 하는 상황을 예시로 들겠습니다.
아래와 같이 어떤 문자열에 'abaabc'가 포함되어 있습니다. 
'abaaba'와 매칭이 될 뻔했지만 아쉽게 매칭되지 않았죠.

![img.png](kmp1.png)

이런 경우에 'baabc...'부터 다시 탐색하는 게 아니라 다음과 같이 'abc...'부터 다시 탐색하는 알고리즘이 KMP 알고리즘입니다.

![kmp2.png](kmp2.png)

이 과정이 가능하려면 탐색에 실패했을 때 다시 탐색할 문자로 연결해주는 '실패 함수' 또는 '실패 링크'가 필요합니다. 
여기서는 실패 함수(Failure Function)라고 하겠습니다. 
'abaaba'의 실패 함수는 다음과 같습니다.

![kmp3.png](kmp3.png)

각 의미는 i번째 문자에서 매칭 실패가 발생한다면 F(i) 인덱스부터 다시 탐색하라는 의미입니다.
이해가 잘 안되실텐데 아래 그림을 보겠습니다.
'abac'라는 문자를 매칭 중이며 'abaa'를 매칭하다가 마지막 a에서 매칭에 실패한 상황입니다.
이때  0번째 인덱스인 a가 아니라 1번 인덱스인 b부터 다시 비교하라는 의미입니다. 
즉, 처음부터 다시 비교하는 게 아니라 이미 일치한 부분은 건너 뛰고 비교를 시작하는 것입니다.

![img.png](kmp4.png)

KMP 알고리즘을 Automata으로 나타내면 다음과 같습니다. 
점선은 실패함수, 실선은 매칭 성공 시 이동 할 다음 노드를 의미합니다. 
여기서 노드란 '이전까지의 문자열에 대해 매칭에 성공한 상태'를 의미합니다. 
푸른 노드에 다다르면 'abaaba'라는 문자열을 매칭하는 것에 성공한 것을 의미합니다.
###### 참고로 Automata는 ' 추상적인 연산 장치'를 의미합니다. 보통 형식언어를 다룰 때 많이 사용합니다.
![img.png](kmp5.png)


